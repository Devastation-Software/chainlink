"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.makeError = exports.MessageError = void 0;
const binarytf_1 = require("binarytf");
/**
 * The MessageError class for deserializer errors
 * @since 0.7.0
 * @extends Error
 */
class MessageError extends Error {
    /**
     * Constructs a MessageError instance.
     * @since 0.7.0
     * @param prefix The prefix indicating more information about the error.
     * @param error The DeserializerError instance to wrap.
     */
    constructor(prefix, error) {
        super(`${prefix}: ${error.message} [${error.kind}]`);
        /**
         * The kind of error from BinaryTF's error.
         * @since 0.7.0
         */
        Object.defineProperty(this, "kind", {
            enumerable: true,
            configurable: true,
            writable: true,
            value: void 0
        });
        this.kind = error.kind;
    }
}
exports.MessageError = MessageError;
/**
 * Creates an error.
 * @since 0.7.0
 * @param prefix The prefix indicating what the error is.
 * @param error The original error to wrap.
 * @internal
 * @private
 */
function makeError(prefix, error) {
    if (error instanceof binarytf_1.DeserializerError)
        return new MessageError(prefix, error);
    return new Error(`${prefix}: ${error.message}`);
}
exports.makeError = makeError;
//# sourceMappingURL=MessageError.js.map